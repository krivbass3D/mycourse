define("block_msmycourses2/menu",["exports","core/log","core/ajax","core/templates","core/config","core/notification","jquery"],(function(_exports,_log,_ajax,_templates,_config,_notification,_jquery){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_log=_interopRequireDefault(_log),_ajax=_interopRequireDefault(_ajax),_templates=_interopRequireDefault(_templates),_config=_interopRequireDefault(_config),_notification=_interopRequireDefault(_notification),_jquery=_interopRequireDefault(_jquery);_exports.init=function(id){(0,_jquery.default)("section").on("click","#inst"+id+".block_msmycourses2 .menu .category",(function(){return menu_open((0,_jquery.default)(this),id),menu_savestate((0,_jquery.default)(this),id),!1}))};var menu_open=function(item,blockid){var current_view=0;return 1==item.closest(".msmycourses_wrapper").find(".switch_view").data("currentview")&&(current_view=1),_ajax.default.call([{methodname:"block_msmycourses2_load_menu_category",args:{blockid:blockid,category_id:item.data("id"),current_view:current_view}}])[0].done((function(response){response.config=_config.default,_templates.default.render("block_msmycourses2/menu",response).then((function(html,js){_templates.default.replaceNode("#inst"+blockid+" .msmycourses_wrapper",html,js)})).fail((function(ex){_log.default.debug(ex)}))})).fail((function(e){_log.default.debug(e)})),!1},menu_savestate=function(item,id){var current_view=0;1==item.closest(".msmycourses_wrapper").find(".switch_view").data("currentview")&&(current_view=1),_ajax.default.call([{methodname:"block_msmycourses2_savestates_menu",args:{blockid:id,category_id:item.data("id"),current_view:current_view}}])[0].done((function(){})).fail(_notification.default.exception)}}));

//# sourceMappingURL=menu.min.js.map