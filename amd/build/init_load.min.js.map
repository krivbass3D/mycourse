{"version":3,"file":"init_load.min.js","sources":["../src/init_load.js"],"sourcesContent":["//import log from 'core/log';\nimport ajax from 'core/ajax';\nimport templates from 'core/templates';\nimport config from 'core/config';\nimport notification from 'core/notification';\nimport $ from 'jquery';\nimport item_load from 'block_msmycourses2/item_load';\n\nexport const init = (id) => {\n\n    var promises = ajax.call([\n            {\n                    methodname: 'block_msmycourses2_initial_load',\n                    args: {\n                            blockid: id,\n                    }\n            }\n    ]);\n\n    promises[0].done(function(response) {\n\n        response.config = config;\n        //log.debug(response);\n        templates.render('block_msmycourses2/'+response.template_type, response).then(function (html, js) {\n                  templates.replaceNode('#inst'+id+' .msmycourses_wrapper', html, js);\n                  $(\".block_msmycourses2 .savestate_open\").each(function() {\n                      if (!$(this).hasClass('open')) {\n                            item_load.savestate_open($(this), id, true);\n                      }\n                  });\n        }).fail(notification.exception);\n\n    }).fail(notification.exception);\n};"],"names":["id","ajax","call","methodname","args","blockid","done","response","config","render","template_type","then","html","js","replaceNode","each","this","hasClass","savestate_open","fail","notification","exception"],"mappings":"wpBAQoB,SAACA,IAEFC,cAAKC,KAAK,CACjB,CACQC,WAAY,kCACZC,KAAM,CACEC,QAASL,OAKxB,GAAGM,MAAK,SAASC,UAEtBA,SAASC,OAASA,mCAERC,OAAO,sBAAsBF,SAASG,cAAeH,UAAUI,MAAK,SAAUC,KAAMC,uBAC1EC,YAAY,QAAQd,GAAG,wBAAyBY,KAAMC,wBAC9D,uCAAuCE,MAAK,YACrC,mBAAEC,MAAMC,SAAS,4BACNC,gBAAe,mBAAEF,MAAOhB,IAAI,SAGvDmB,KAAKC,sBAAaC,cAEtBF,KAAKC,sBAAaC"}