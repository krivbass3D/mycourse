{"version":3,"file":"course_slider.min.js","sources":["../src/course_slider.js"],"sourcesContent":["import Swiper from 'local_mscore/swiper';\n//import log from 'core/log';\nimport ajax from 'core/ajax';\nimport notification from 'core/notification';\n/*eslint-disable*/\nexport const init = (category,sliderconfig,top_category = 0) => {\n\n    var element = category.find('.swiper')[0];\n    \n    new Swiper(element, {\n    // Optional parameters\n    allowTouchMove: sliderconfig.touch,\n    direction: sliderconfig.direction,\n    loop: sliderconfig.loop,\n    autoHeight:false,\n    grabCursor: true,\n    initialSlide: sliderconfig.initial,\n    slidesPerGroup: sliderconfig.slides_per_group, \n    breakpointsBase: 'container',\n    slidesPerView: sliderconfig.slides_per_view,\n    loopedSlides: sliderconfig.looped_slides,\n    preloadImages: false,\n    lazy: true,\n    watchSlidesProgress: true,\n    loopFillGroupWithBlank: true,\n  \n    /*// If we need pagination\n    pagination: {\n      el: '.swiper-pagination',\n    },*/\n  \n    // Navigation arrows\n    navigation: {\n      nextEl: '.swiper-button-next',\n      prevEl: '.swiper-button-prev',\n    },\n  \n    // And if we need scrollbar\n    /*scrollbar: {\n      el: '.swiper-scrollbar',\n    },*/\n    /*breakpoints: {\n      // when window width is >= 320px\n      640: {\n        slidesPerView: 2,\n        spaceBetween: 20\n      },\n      // when window width is >= 480px\n      960: {\n        slidesPerView: 3,\n        spaceBetween: 30\n      },\n      // when window width is >= 640px\n      1280: {\n        slidesPerView: 4,\n        spaceBetween: 40\n      }\n    }*/\n    \n  on: {\n    slideChange: function (swiper) {\n\n      let category;\n      \n      if(swiper.el) {\n      if(top_category != 0) {\n          category = top_category;\n      }\n      else {\n          category = swiper.el.closest('.item').dataset.id;\n      }\n      \n      if(switchview = swiper.el.closest('.msmycourses_wrapper').getElementsByClassName('switch_view')[0]) {\n          current_view = switchview.dataset.currentview;\n      }\n      else {\n          current_view = 0\n      }\n      var promises = ajax.call([\n          {\n                methodname: 'block_mycourse_savestates_slider',\n                args: {\n                          blockid: swiper.el.closest('.block_mycourse').id.substring(4),\n                          category: category,\n                          current_view: current_view,\n                          current: swiper.realIndex\n                }\n          }\n          ]);\n\n          promises[0].done(function() {\n      }).fail(notification.exception);\n    }\n    },\n  },\n  });\n};\n"],"names":["category","sliderconfig","top_category","element","find","Swiper","allowTouchMove","touch","direction","loop","autoHeight","grabCursor","initialSlide","initial","slidesPerGroup","slides_per_group","breakpointsBase","slidesPerView","slides_per_view","loopedSlides","looped_slides","preloadImages","lazy","watchSlidesProgress","loopFillGroupWithBlank","navigation","nextEl","prevEl","on","slideChange","swiper","el","closest","dataset","id","switchview","getElementsByClassName","current_view","currentview","ajax","call","methodname","args","blockid","substring","current","realIndex","done","fail","notification","exception"],"mappings":"ycAKoB,SAACA,SAASC,kBAAaC,oEAAe,EAElDC,QAAUH,SAASI,KAAK,WAAW,OAEnCC,gBAAOF,QAAS,CAEpBG,eAAgBL,aAAaM,MAC7BC,UAAWP,aAAaO,UACxBC,KAAMR,aAAaQ,KACnBC,YAAW,EACXC,YAAY,EACZC,aAAcX,aAAaY,QAC3BC,eAAgBb,aAAac,iBAC7BC,gBAAiB,YACjBC,cAAehB,aAAaiB,gBAC5BC,aAAclB,aAAamB,cAC3BC,eAAe,EACfC,MAAM,EACNC,qBAAqB,EACrBC,wBAAwB,EAQxBC,WAAY,CACVC,OAAQ,sBACRC,OAAQ,uBAyBZC,GAAI,CACFC,YAAa,SAAUC,YAEjB9B,SAED8B,OAAOC,KAEN/B,SADe,GAAhBE,aACYA,aAGA4B,OAAOC,GAAGC,QAAQ,SAASC,QAAQC,IAG/CC,WAAaL,OAAOC,GAAGC,QAAQ,wBAAwBI,uBAAuB,eAAe,IAC5FC,aAAeF,WAAWF,QAAQK,YAGlCD,aAAe,EAEJE,cAAKC,KAAK,CACrB,CACMC,WAAY,uCACZC,KAAM,CACIC,QAASb,OAAOC,GAAGC,QAAQ,uBAAuBE,GAAGU,UAAU,GAC/D5C,SAAUA,SACVqC,aAAcA,aACdQ,QAASf,OAAOgB,cAKvB,GAAGC,MAAK,eAClBC,KAAKC,sBAAaC"}